/* Ableton Cookbook Markdown Extension Styles */

/* Rack Embed Styles */
.rack-embed {
    @apply border border-gray-200 rounded-lg p-4 my-6 bg-white shadow-sm;
}

.rack-embed--dark {
    @apply bg-gray-800 border-gray-700 text-white;
}

.rack-embed--compact {
    @apply p-3;
}

.rack-embed--detailed {
    @apply p-6;
}

.rack-embed__header {
    @apply mb-3;
}

.rack-embed__title {
    @apply text-lg font-semibold text-gray-900 mb-1;
}

.rack-embed--dark .rack-embed__title {
    @apply text-white;
}

.rack-embed__by {
    @apply text-sm text-gray-600;
}

.rack-embed--dark .rack-embed__by {
    @apply text-gray-300;
}

.rack-embed__author {
    @apply text-sm text-gray-600;
}

.rack-embed__author-link {
    @apply text-blue-600 hover:text-blue-800 no-underline;
}

.rack-embed--dark .rack-embed__author-link {
    @apply text-blue-400 hover:text-blue-300;
}

.rack-embed__description {
    @apply text-sm text-gray-700 mb-4;
}

.rack-embed--dark .rack-embed__description {
    @apply text-gray-300;
}

.rack-embed__devices {
    @apply text-xs text-gray-500 mb-3;
}

.rack-embed--dark .rack-embed__devices {
    @apply text-gray-400;
}

.rack-embed__meta {
    @apply flex items-center justify-between text-sm text-gray-600;
}

.rack-embed--dark .rack-embed__meta {
    @apply text-gray-300;
}

.rack-embed__actions {
    @apply flex gap-2 mt-4;
}

.rack-embed__link {
    @apply text-blue-600 hover:text-blue-800 text-sm font-medium no-underline;
}

.rack-embed--dark .rack-embed__link {
    @apply text-blue-400 hover:text-blue-300;
}

.rack-embed__download {
    @apply bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 no-underline;
}

.rack-embed__view {
    @apply bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm hover:bg-gray-300 no-underline;
}

.rack-embed-error {
    @apply border border-red-200 rounded-lg p-4 my-6 bg-red-50 text-red-700 text-sm;
}

/* Device Reference Styles */
.device-ref {
    @apply inline-block px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm font-mono cursor-help;
    position: relative;
}

.device-ref:hover {
    @apply bg-blue-200;
}

.device-ref--with-param {
    @apply bg-green-100 text-green-800;
}

.device-ref--with-param:hover {
    @apply bg-green-200;
}

/* Parameter Control Styles */
.parameter-control {
    @apply inline-flex items-center gap-3 px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg my-4;
    min-width: 200px;
}

.parameter-control__label {
    @apply text-sm font-medium text-gray-700 whitespace-nowrap;
    min-width: 80px;
}

.parameter-control__slider {
    @apply flex-1 relative;
}

.parameter-control__input {
    @apply w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer;
}

.parameter-control__input::-webkit-slider-thumb {
    @apply appearance-none w-4 h-4 bg-blue-600 rounded-full cursor-pointer;
}

.parameter-control__input::-moz-range-thumb {
    @apply w-4 h-4 bg-blue-600 rounded-full cursor-pointer border-0;
}

.parameter-control__track {
    @apply absolute top-0 left-0 h-2 rounded-lg pointer-events-none;
    width: 100%;
}

.parameter-control__value {
    @apply text-sm font-mono text-gray-600 min-w-8 text-right;
}

/* Audio Player Styles */
.audio-player {
    @apply border border-gray-200 rounded-lg p-4 my-6 bg-white;
}

.audio-player__header {
    @apply mb-4;
}

.audio-player__title {
    @apply text-lg font-medium text-gray-900;
}

.audio-player__controls {
    @apply flex items-center gap-4 mb-4;
}

.audio-player__play {
    @apply w-10 h-10 bg-blue-600 text-white rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors;
}

.audio-player__play:focus {
    @apply outline-none ring-2 ring-blue-500 ring-offset-2;
}

.audio-player__progress {
    @apply flex-1 relative h-2 bg-gray-200 rounded-full overflow-hidden cursor-pointer;
}

.audio-player__track {
    @apply absolute top-0 left-0 h-full bg-blue-600 transition-all duration-100;
    width: 0%;
}

.audio-player__thumb {
    @apply absolute top-1/2 transform -translate-y-1/2 w-4 h-4 bg-blue-600 rounded-full shadow;
    left: 0%;
    transition: left 0.1s ease;
}

.audio-player__time {
    @apply text-sm font-mono text-gray-600 min-w-12;
}

.audio-player__waveform {
    @apply w-full rounded bg-gray-100;
}

.audio-player__element {
    @apply hidden;
}

.audio-player-error {
    @apply border border-red-200 rounded-lg p-4 my-6 bg-red-50 text-red-700 text-sm;
}

/* Enhanced Media Embed Styles */
.youtube-embed, .vimeo-embed, .soundcloud-embed, .generic-embed {
    @apply my-6;
}

.youtube-embed__header, 
.vimeo-embed__header, 
.soundcloud-embed__header, 
.generic-embed__header {
    @apply mb-3;
}

.youtube-embed__title, 
.vimeo-embed__title, 
.soundcloud-embed__title, 
.generic-embed__title {
    @apply text-lg font-medium text-gray-900 mb-1;
}

.youtube-embed__author, 
.vimeo-embed__author, 
.soundcloud-embed__author, 
.generic-embed__provider {
    @apply text-sm text-gray-600;
}

.youtube-embed__player, 
.vimeo-embed__player {
    @apply relative overflow-hidden rounded-lg shadow-lg;
}

.soundcloud-embed__player {
    @apply rounded-lg overflow-hidden shadow-lg;
}

.generic-embed__content {
    @apply rounded-lg overflow-hidden;
}

/* Responsive iframe styling */
.youtube-embed iframe, 
.vimeo-embed iframe {
    @apply w-full h-full;
}

.soundcloud-embed iframe {
    @apply w-full rounded;
}

/* Enhanced Markdown Editor Styles */
.markdown-editor-container {
    position: relative;
}

.markdown-editor-container .toolbar-btn {
    @apply px-2 py-1 border border-gray-300 rounded hover:bg-gray-200 focus:outline-none focus:ring-1 focus:ring-blue-500 text-gray-700 transition-colors;
}

.markdown-editor-container .toolbar-btn.active {
    @apply bg-blue-100 border-blue-300 text-blue-700;
}

.markdown-editor-container .toolbar-btn:disabled {
    @apply opacity-50 cursor-not-allowed;
}

/* Split View Styles for Live Preview */
.markdown-editor--split-view {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    min-height: 400px;
}

.markdown-editor--split-view .editor-panel,
.markdown-editor--split-view .preview-panel {
    border: 1px solid #e5e7eb;
    border-radius: 0.5rem;
    overflow: hidden;
}

.markdown-editor--split-view .editor-panel {
    display: flex;
    flex-direction: column;
}

.markdown-editor--split-view .preview-panel {
    background: #f9fafb;
}

.markdown-editor--split-view .preview-content {
    padding: 1rem;
    height: 100%;
    overflow-y: auto;
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .rack-embed--detailed {
        @apply p-4;
    }
    
    .rack-embed__actions {
        @apply flex-col gap-2;
    }
    
    .parameter-control {
        @apply flex-col items-start gap-2;
        min-width: auto;
    }
    
    .parameter-control__label {
        min-width: auto;
    }
    
    .audio-player__controls {
        @apply flex-col gap-3;
    }
    
    .audio-player__progress {
        @apply w-full;
    }
    
    .markdown-editor--split-view {
        grid-template-columns: 1fr;
        grid-template-rows: 1fr 1fr;
    }
}

/* Dark Mode Support */
@media (prefers-color-scheme: dark) {
    .rack-embed {
        @apply bg-gray-800 border-gray-700 text-white;
    }
    
    .rack-embed__title {
        @apply text-white;
    }
    
    .rack-embed__by,
    .rack-embed__author,
    .rack-embed__description,
    .rack-embed__meta {
        @apply text-gray-300;
    }
    
    .rack-embed__author-link,
    .rack-embed__link {
        @apply text-blue-400 hover:text-blue-300;
    }
    
    .parameter-control {
        @apply bg-gray-800 border-gray-700;
    }
    
    .parameter-control__label {
        @apply text-gray-300;
    }
    
    .audio-player {
        @apply bg-gray-800 border-gray-700;
    }
    
    .audio-player__title {
        @apply text-white;
    }
    
    .audio-player__time {
        @apply text-gray-300;
    }
}

/* Animation Classes */
.fade-in {
    animation: fadeIn 0.3s ease-in-out;
}

.slide-up {
    animation: slideUp 0.3s ease-out;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideUp {
    from { 
        opacity: 0;
        transform: translateY(20px);
    }
    to { 
        opacity: 1;
        transform: translateY(0);
    }
}